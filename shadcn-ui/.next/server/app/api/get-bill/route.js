"use strict";(()=>{var e={};e.id=962,e.ids=[962],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7966:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>f,originalPathname:()=>j,patchFetch:()=>k,requestAsyncStorage:()=>h,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>b});var o={};r.r(o),r.d(o,{POST:()=>p,dynamic:()=>l,runtime:()=>u});var a=r(9462),n=r(5345),i=r(7143),s=r(2969);let l="force-dynamic",u="nodejs",c="https://placeholder-api-1.com";async function p(e){try{let{account:t,product_id:r}=await e.json();if(!t||!r)return s.Z.json({error:"Thiếu account hoặc product_id"},{status:400});let o=new AbortController,a=setTimeout(()=>o.abort(),1e4);try{let e;let n=await fetch(new URL("/api/get-bill",c).toString(),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, text/plain, */*","a-csrftoken":"placeholder-csrf-token","a-from":"APC-js","a-lang":"vi","a-os":"web","a-timestamp":Math.floor(Date.now()/1e3).toString(),Cookie:"placeholder-cookie",Origin:c,Referer:`${c}/`,"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36"},body:JSON.stringify({account:t,product_id:r,custom_bill_amount:"",province:"",configurable:!0}),signal:o.signal});clearTimeout(a);let i=n.headers.get("content-type")||"",l=await n.text();if(!i.includes("application/json"))return s.Z.json({error:"Lỗi từ API Cổng 1 (C\xf3 thể bị chặn)",details:l||"Phản hồi kh\xf4ng phải JSON"},{status:n.status});try{e=JSON.parse(l)}catch(e){return console.error("Lỗi parse JSON Cổng 1:",e,"Response text:",l),s.Z.json({error:"API Cổng 1 trả về JSON kh\xf4ng hợp lệ (c\xf3 thể l\xe0 rỗng)",details:e.message},{status:500})}return s.Z.json(e,{status:n.status})}finally{clearTimeout(a)}}catch(e){if(console.error("Error in /api/get-bill:",e),"AbortError"===e.name||"ETIMEDOUT"===e.code)return s.Z.json({error:"Gateway Timeout (API Cổng 1 kh\xf4ng phản hồi)"},{status:504});return s.Z.json({error:e.message},{status:500})}}let d=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/get-bill/route",pathname:"/api/get-bill",filename:"route",bundlePath:"app/api/get-bill/route"},resolvedPagePath:"/workspace/shadcn-ui/app/api/get-bill/route.ts",nextConfigOutput:"standalone",userland:o}),{requestAsyncStorage:h,staticGenerationAsyncStorage:g,serverHooks:m,headerHooks:f,staticGenerationBailout:b}=d,j="/api/get-bill/route";function k(){return(0,i.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:g})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[120,971],()=>r(7966));module.exports=o})();