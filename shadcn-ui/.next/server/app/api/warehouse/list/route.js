"use strict";(()=>{var e={};e.id=85,e.ids=[85],e.modules={2934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},718:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>w,originalPathname:()=>f,patchFetch:()=>j,requestAsyncStorage:()=>m,routeModule:()=>h,serverHooks:()=>x,staticGenerationAsyncStorage:()=>g,staticGenerationBailout:()=>y});var n={};r.r(n),r.d(n,{GET:()=>d,dynamic:()=>l,runtime:()=>p});var a=r(9462),s=r(5345),o=r(7143),i=r(2969),u=r(6797),c=r(636);let l="force-dynamic",p="nodejs";async function d(e){if(!function(){let e=(0,u.cookies)().get("session");if(!e)return null;try{return JSON.parse(e.value)}catch{return null}}())return i.Z.json({error:"Chưa đăng nhập"},{status:401});try{let e=await (0,c.I)("SELECT * FROM kho WHERE xuatAt IS NULL ORDER BY nhapAt DESC");return i.Z.json(e.rows)}catch(e){return console.error("Warehouse list error:",e),i.Z.json({error:e.message||"Lỗi tải danh s\xe1ch kho"},{status:500})}}let h=new a.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/warehouse/list/route",pathname:"/api/warehouse/list",filename:"route",bundlePath:"app/api/warehouse/list/route"},resolvedPagePath:"/workspace/shadcn-ui/app/api/warehouse/list/route.ts",nextConfigOutput:"standalone",userland:n}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:x,headerHooks:w,staticGenerationBailout:y}=h,f="/api/warehouse/list/route";function j(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:g})}},636:(e,t,r)=>{r.d(t,{I:()=>a});let n=new(require("pg")).Pool({connectionString:"postgresql://username:password@localhost:5432/database_name",ssl:{rejectUnauthorized:!1}});async function a(e,t){let r=await n.connect();try{return await r.query(e,t)}finally{r.release()}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[472,578],()=>r(718));module.exports=n})();